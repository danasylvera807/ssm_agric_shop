<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.group3.mapper.UserMapper">
    <resultMap id="userResultMap" type="User">
        <id column="user_id" property="userId"/>
        <result column="user_name" property="userName"/>
        <result column="user_pwd" property="userPwd"/>
        <result column="user_email" property="userEmail"/>
        <result column="phone_number" property="phoneNumber"/>
        <result column="user_address" property="userAddress"/>
        <result column="registration_time" property="registrationTime"/>
        <result column="user_identity" property="userIdentity"/>
    </resultMap>

    <!--添加用户-->
    <insert id="add" parameterType="User">
        INSERT INTO
            user(user_name,
                 user_pwd,
                 user_email,
                 phone_number,
                 user_address,
                 registration_time,
                 user_identity)
        VALUES (#{userName},
                #{userPwd},
                #{userEmail},
                #{phoneNumber},
                #{userAddress},
                #{registrationTime},
                #{userIdentity});
    </insert>
    <!--删除用户-->
    <delete id="delete" parameterType="int">
        DELETE FROM user WHERE user_id = #{userId};
    </delete>
    <update id="update" parameterType="User">
        UPDATE user
        SET user_name = #{userName},
            user_pwd = #{userPwd},
            user_email = #{userEmail},
            phone_number = #{phoneNumber},
            user_address = #{userAddress},
            registration_time = #{registrationTime},
            user_identity = #{userIdentity}
        WHERE user_id = #{userId};
    </update>
    <!--根据Id查询用户-->
    <select id="getByUserId" resultMap="userResultMap">
        SELECT *
        FROM user
        WHERE user_id = #{userId}
    </select>

    <!--根据邮箱查询用户-->
    <select id="getByUserEmail" resultMap="userResultMap">
        SELECT *
        FROM user
        WHERE user_email = #{userEmail}
    </select>

    <!--根据用户名查询用户-->
    <select id="getByUserName" resultMap="userResultMap">
        SELECT *
        FROM user
        WHERE user_name = #{userName}
    </select>

    <!--根据手机号查询用户-->
    <select id="getByPhoneNumber" resultMap="userResultMap">
        SELECT *
        FROM user
        WHERE phone_number = #{phoneNumber}
    </select>



</mapper>